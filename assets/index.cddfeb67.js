var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(n,r)=>{var a={};for(var l in n)t.call(n,l)&&r.indexOf(l)<0&&(a[l]=n[l]);if(null!=n&&e)for(var l of e(n))r.indexOf(l)<0&&s.call(n,l)&&(a[l]=n[l]);return a};import{d as r,p as a,a as l,c as i,n as o,w as u,t as d,b as c,F as h,o as m,r as p,e as y,f,i as g,g as v,h as b,j as E,k,l as L}from"./vendor.e8175d59.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var $=r({name:"FieldWrapper",props:{label:String,modelValue:null,fieldId:String},emits:["onMove","onEvaluate","onDelete","onSetSign","update:modelValue"],methods:{handleInput(e){this.$emit("update:modelValue",+e.target.value)},handleKeypress(e){switch(`${e.ctrlKey?"Ctrl ":""}${e.key}`){case"Ctrl Enter":this.$emit("onEvaluate");break;case"Ctrl Delete":this.$emit("onDelete");break;case"+":case"-":e.preventDefault(),this.$emit("onSetSign",e.key);break;case"Ctrl ArrowUp":case"Ctrl ArrowDown":case"Ctrl ArrowLeft":case"Ctrl ArrowRight":this.$emit("onMove",[e,e.key.toLowerCase().replace("arrow","")]);break;case"Ctrl a":case"Tab":case"Backspace":case"Delete":case"Home":case"End":break;default:if(!/[^0-9]/.test(e.key))break;e.preventDefault()}}},computed:{dynamicWidth(){return this.modelValue&&this.modelValue.length>3?`${this.modelValue.length+.5}rem`:"4rem"},isSign(){return"-"===this.modelValue||"+"===this.modelValue}}});a("data-v-0295041a");const O=["id","value"],w={key:1,class:"sign"};l(),$.render=function(e,t,s,n,r,a){return m(),i(h,null,[e.isSign?(m(),i("div",w,d(e.modelValue),1)):(m(),i("input",{key:0,class:"input",type:"tel",id:e.fieldId,style:o({width:e.dynamicWidth}),value:e.modelValue,onInput:t[0]||(t[0]=(...t)=>e.handleInput&&e.handleInput(...t)),onKeydown:[t[1]||(t[1]=u(((...t)=>e.handleKeypress&&e.handleKeypress(...t)),["exact"])),t[2]||(t[2]=u(((...t)=>e.handleKeypress&&e.handleKeypress(...t)),["ctrl","exact"])),t[3]||(t[3]=u(((...t)=>e.handleKeypress&&e.handleKeypress(...t)),["shift","exact"]))]},null,44,O)),c(" "+d(e.label),1)],64)},$.__scopeId="data-v-0295041a";var x=r({name:"TimeEntry",components:{FieldWrapper:$},props:{index:{type:Number,required:!0},initialEntry:{type:Object,required:!0}},emits:["onEvaluate","deleteEntry","update:modelValue","changeLine"],data:()=>({entry:{},labels:{sign:"",days:"days",hours:"h",minutes:"min",seconds:"s"}}),mounted(){this.entry=this.initialEntry},methods:{moveCursor(e,t,s){switch(t){case"up":case"down":this.$emit("changeLine",t,s,this.index);break;case"left":this.$nextTick((()=>{var t;(null==(t=e.target)?void 0:t.previousElementSibling).focus()}));break;case"right":this.$nextTick((()=>{e.target.nextElementSibling.focus()}))}}}});x.render=function(e,t,s,n,r,a){const l=p("FieldWrapper");return m(!0),i(h,null,y(e.entry,((s,n)=>(m(),f(l,{label:e.labels[n],key:`${n}-${e.index}`,fieldId:`${n}-${e.index}`,modelValue:e.entry[n],"onUpdate:modelValue":t=>e.entry[n]=t,onOnSetSign:t[0]||(t[0]=t=>e.entry.sign=t),onOnMove:t=>e.moveCursor(t[0],t[1],n),onOnEvaluate:t[1]||(t[1]=t=>e.$emit("onEvaluate")),onOnDelete:t=>e.$emit("deleteEntry",n,e.index)},null,8,["label","fieldId","modelValue","onUpdate:modelValue","onOnMove","onOnDelete"])))),128)};var V=r({name:"EntryList",components:{TimeEntry:x},emits:["onEvaluate"],data:()=>({entryList:[{sign:"+",days:0,hours:0,minutes:0,seconds:0}]}),methods:{evaluate(){let e=new g.exports.Temporal.Duration;for(const s of this.entryList){const t=s,{sign:r}=t,a=n(t,["sign"]);e="+"===s.sign?e.add(a):e.subtract(a),e=e.round({largestUnit:"day",smallestUnit:"second"})}const t={days:e.days,hours:e.hours,minutes:e.minutes,seconds:e.seconds};this.$emit("onEvaluate",t)},deleteEntry(e,t){1!==this.entryList.length&&(0==+t?this.changeLine("down",e,t+1):this.changeLine("up",e,t),this.entryList.splice(t,1))},changeLine(e,t,s){const n={sign:"+",days:0,hours:0,minutes:0,seconds:0},r=s===this.entryList.length-1,a=0===s,l="down"===e,i="up"===e;let o=!1,u="";if((r&&l||a&&i)&&this.isEntryEmpty(s))return;l&&(u=`#${t}-${s+1}`,r&&(this.entryList.push(n),o=!0)),i&&(u=`#${t}-${s-1}`,a&&(u=`#${t}-${s}`,this.entryList.unshift(n),o=!0));const d=this.$refs.entryListForm;o?this.$nextTick((()=>{d.querySelector(u).focus()})):d.querySelector(u).focus()},isEntryEmpty(e){const t=this.entryList[e],{sign:s}=t,r=n(t,["sign"]);return g.exports.Temporal.Duration.from(r).blank}}});a("data-v-1815d015");const C={ref:"entryListForm"};l(),V.render=function(e,t,s,n,r,a){const l=p("TimeEntry");return m(),i("form",C,[(m(!0),i(h,null,y(e.entryList,((t,s)=>(m(),i("fieldset",{class:"entry",key:s},[v(l,{modelValue:e.entryList[s],"onUpdate:modelValue":t=>e.entryList[s]=t,initialEntry:t,index:s,key:s,onOnEvaluate:e.evaluate,onChangeLine:e.changeLine},null,8,["modelValue","onUpdate:modelValue","initialEntry","index","onOnEvaluate","onChangeLine"])])))),128))],512)},V.__scopeId="data-v-1815d015";var S=r({name:"App",components:{EntryList:V},data:()=>({result:""}),methods:{updateResult(e){let t=Object.values(e).filter((e=>e>0)).length;this.result="",e.days&&(t--,this.result+=e.days+" days",1==t?this.result+=" and":t>1&&(this.result+=",")),e.hours&&(t--,this.result+=" "+e.hours+" hours",1==t?this.result+=" and":t>1&&(this.result+=",")),e.minutes&&(t--,this.result+=" "+e.minutes+" minutes",1==t?this.result+=" and":t>1&&(this.result+=",")),e.seconds&&(t--,this.result+=" "+e.seconds+" seconds")}}});const T={class:"container"},I=b("header",{class:"centered"},[b("h1",{class:"site-title"},"Time Calculator")],-1),D=b("div",{class:"hbar"},null,-1),K={key:0,class:"result"},j=k('<footer class="footer"><div class="line"><a href="https://github.com/peruibeloko/time-calculator" class="source-link">Check the source here!</a><span class="separator">·</span><a href="https://github.com/peruibeloko" class="source-link">Check my other projects here!</a></div><div class="line"><small>Powered by the highly experimental, bleeding-edge, <a href="https://tc39.es/proposal-temporal/docs/" class="source-link">Temporal Object</a> proposal by TC39 </small></div></footer>',1);S.render=function(e,t,s,n,r,a){const l=p("EntryList");return m(),i("div",T,[I,b("main",null,[v(l,{onOnEvaluate:e.updateResult},null,8,["onOnEvaluate"]),D,b("section",null,[e.result?(m(),i("h1",K,"Thats "+d(e.result),1)):E("",!0)])]),j])},L(S).mount("#app");
